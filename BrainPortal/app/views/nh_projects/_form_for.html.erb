
<%-
#
# NeuroHub Project
#
# Copyright (C) 2020
# The Royal Institution for the Advancement of Learning
# McGill University
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
-%>
  <%= form_for @nh_project, :as => :nh_project, :url => { :action => action }, :datatype => "script" do |f| -%>

    <fieldset >
      <%= f.label :name, "Name"%>
      <%= f.text_field :name %>
    </fieldset>

    <fieldset>
      <%= f.label :description, "Description"%>
      <%= f.text_field :description  %>
    </fieldset>

    <fieldset>
      <%= f.label :maintener, "Maintainer" %>
      <%= @nh_project.creator.name %>
    </fieldset>

    <% if @nh_project.can_be_edited_by?(current_user) %>
      <fieldset>
        <table>
          <tr>
            <th>Members</th>
            <th>Editors</th>
          </tr>
          <% @nh_project.users.each do |user| %>
            <tr>
              <td><%= user.name %></td>
              <td><%= check_box_tag("nh_project[editor_ids][]", user.id, @nh_project.editor_ids.include?(user.id) ) %></td>
            </tr>
          <% end %>
        </table>
        <p style="margin-top:2em">
        <small>Editors have higher priviliges than members</small>
      </fieldset>
    <% end %>

    <div class="form_button_section">
      <%= f.submit "#{action.to_s.capitalize}", :class=>"btn-solid-secondary" %>
    </div>
  <% end %>
